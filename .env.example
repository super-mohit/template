# ===================================================================
#      AI COMMAND CENTER - ENVIRONMENT CONFIGURATION
# -------------------------------------------------------------------
#  Copy this file to .env and fill in the required secrets.
#  This file is the single source of truth for local development.
# ===================================================================

# ------------------------------------------------------------
# GENERAL APPLICATION SETTINGS
# ------------------------------------------------------------

# The base path for the entire application, used for reverse proxy routing.
# Example: /myapp -> http://localhost:3001/myapp
BASE_PATH=/app1

# ------------------------------------------------------------
# BACKEND (FastAPI) CONFIGURATION
# ------------------------------------------------------------

# The full URL of the frontend, used for CORS configuration.
# Should include the base path if one is used.
FRONTEND_URL=http://localhost:3001/app1

# ------------------------------------------------------------
# FRONTEND (Next.js) CONFIGURATION
# ------------------------------------------------------------

# The public URL for the backend API that the browser will call.
NEXT_PUBLIC_API_URL=http://localhost:8001

# The base path for the frontend application. MUST match BASE_PATH above.
NEXT_PUBLIC_BASE_PATH=/app1

# ------------------------------------------------------------
# KEYCLOAK & AUTHENTICATION CONFIGURATION
# ------------------------------------------------------------

# --- Keycloak Service ---
# These variables are for the backend and frontend to communicate with Keycloak.
# For container-to-container communication (backend -> keycloak), use the service name.
KEYCLOAK_SERVER_URL=http://keycloak:8080
KEYCLOAK_REALM=supervity
KEYCLOAK_CLIENT_ID=super-client-dnh-dev-0001
KEYCLOAK_AUDIENCE=account

# The public-facing URL for Keycloak, used by NextAuth (browser-accessible)
NEXT_PUBLIC_KEYCLOAK_URL=http://localhost:8080

# REQUIRED: Generate a strong client secret from the Keycloak Admin UI
# after the first run and paste it here.
# Path: Clients -> super-client-dnh-dev-0001 -> Credentials -> Client Secret
# Leave this empty for now - you'll fill it in after the first startup.
KEYCLOAK_CLIENT_SECRET=

# --- NextAuth ---
# The canonical URL of your NextAuth.js application.
# Should include the base path if one is used.
NEXTAUTH_URL=http://localhost:3001/app1/api/auth

# REQUIRED: A secret used to sign and encrypt NextAuth.js tokens.
# Generate one with: openssl rand -base64 32
# This should be a unique, random string. Generate it now!
NEXTAUTH_SECRET=

# ------------------------------------------------------------
# LOGGING & DEBUGGING
# ------------------------------------------------------------

# Set to "true" to enable detailed console logs for the authorization flow.
# Recommended for development, should be "false" in production.
SUPERVITY_AUTH_DEBUG=true

# Set the log level for the backend service.
# Options: DEBUG, INFO, WARNING, ERROR, CRITICAL
LOG_LEVEL=INFO

# ------------------------------------------------------------
# DATABASE (PostgreSQL) CONFIGURATION
# ------------------------------------------------------------
POSTGRES_USER=user
POSTGRES_PASSWORD=password
POSTGRES_DB=app_db
POSTGRES_HOST=postgres
POSTGRES_PORT=5432

# This is the full connection string used by SQLAlchemy
# It is constructed from the variables above.
DATABASE_URL=postgresql://${POSTGRES_USER}:${POSTGRES_PASSWORD}@${POSTGRES_HOST}:${POSTGRES_PORT}/${POSTGRES_DB}
